
Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-4tpl8[0m
{"level":"info","ts":1593186388.3618245,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593186388.3624778,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-rgd27[0m
{"level":"info","ts":1593186389.479127,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1593186389.4802465,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-ablazleon-jxpy-pr-16-pr-build-2pqvr-mbcqn[0m
{"level":"info","ts":1593186396.804614,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593186398.1478643,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/*********/**py.git @ master in path /workspace/source"}

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:e1d0553598b2b3c7177f1a02479d6c07d422ce44,16:166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git fetch origin --unshallow 166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a: e1d0553598b2b3c7177f1a02479d6c07d422ce44:
DEBUG: ran git fetch --unshallow origin 166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a: e1d0553598b2b3c7177f1a02479d6c07d422ce44: in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard e1d0553598b2b3c7177f1a02479d6c07d422ce44
DEBUG: ran git reset --hard e1d0553598b2b3c7177f1a02479d6c07d422ce44 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge 166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a
DEBUG: ran git merge 166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e e1d0553598b2b3c7177f1a02479d6c07d422ce44..HEAD
Merged SHA 166706aedf7eaa95bfa0c9fe17ce0e0c0e63855a with commit message 'Update requirements.txt' into base branch master

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-python-unittest[0m

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E0626 15:46:42.850431       9 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest python:onbuild     
E0626 15:46:43.294065       9 metadata.go:154] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
E0626 15:46:43.297597       9 metadata.go:166] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
[36mINFO[0m[0002] Retrieving image manifest python:onbuild     
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest python:onbuild     
[36mINFO[0m[0004] Retrieving image manifest python:onbuild     
[36mINFO[0m[0005] Executing 3 build triggers                   
[36mINFO[0m[0005] Checking for cached layer gcr.io/envjenkinsk8udacitycapstone/cache:df2682f9112b9b728a81d17e60e0833277ddedd6257b137b6af90148bb5b44b3... 
[36mINFO[0m[0006] No cached layer found for cmd COPY requirements.txt /usr/src/app/ 
[36mINFO[0m[0006] cmd: EXPOSE                                  
[36mINFO[0m[0006] Adding exposed port: 8080/tcp                
[36mINFO[0m[0006] Unpacking rootfs as cmd COPY requirements.txt /usr/src/app/ requires it. 
[36mINFO[0m[0024] COPY requirements.txt /usr/src/app/          
[36mINFO[0m[0024] Resolving 1 paths                            
[36mINFO[0m[0024] Taking snapshot of files...                  
[36mINFO[0m[0024] RUN pip install --no-cache-dir -r requirements.txt 
[36mINFO[0m[0024] Taking snapshot of full filesystem...        
[36mINFO[0m[0024] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:df2682f9112b9b728a81d17e60e0833277ddedd6257b137b6af90148bb5b44b3 to cache now 
[36mINFO[0m[0026] Resolving 27638 paths                        
[36mINFO[0m[0030] cmd: /bin/sh                                 
[36mINFO[0m[0030] args: [-c pip install --no-cache-dir -r requirements.txt] 
[36mINFO[0m[0030] Running: [/bin/sh -c pip install --no-cache-dir -r requirements.txt] 
Collecting pylint==1.9.5 (from -r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/36/3b/fa4025a424adafd85c6195001b1c130ecb8d8b30784a1c4cb68e7b5e5ae7/pylint-1.9.5-py2.py3-none-any.whl (696kB)
Collecting isort>=4.2.5 (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/e5/b0/c121fd1fa3419ea9bfd55c7f9c4fedfec5143208d8c7ad3ce3db6c623c21/isort-4.3.21-py2.py3-none-any.whl (42kB)
Collecting astroid<2.0,>=1.6 (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/8b/29/0f7ec6fbf28a158886b7de49aee3a77a8a47a7e24c60e9fd6ec98ee2ec02/astroid-1.6.6-py2.py3-none-any.whl (305kB)
Collecting six (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl
Collecting mccabe (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting wrapt (from astroid<2.0,>=1.6->pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/82/f7/e43cefbe88c5fd371f4cf0cf5eb3feccd07515af9fd6cf7dbf1d1793a797/wrapt-1.12.1.tar.gz
Collecting lazy-object-proxy (from astroid<2.0,>=1.6->pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/cd/2f/68176f910e32eec13d2db184442fe2242d067ce5abe4c095ff3a95d34907/lazy_object_proxy-1.5.0-cp36-cp36m-manylinux1_x86_64.whl (56kB)
Installing collected packages: isort, wrapt, six, lazy-object-proxy, astroid, mccabe, pylint
  Running setup.py install for wrapt: started
    Running setup.py install for wrapt: finished with status 'done'
Successfully installed astroid-1.6.6 isort-4.3.21 lazy-object-proxy-1.5.0 mccabe-0.6.1 pylint-1.9.5 six-1.15.0 wrapt-1.12.1
You are using pip version 10.0.1, however version 20.2b1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
[36mINFO[0m[0036] Taking snapshot of full filesystem...        
[36mINFO[0m[0037] Resolving 30246 paths                        
[36mINFO[0m[0041] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:889a9946ea19ddc21c66b2d2baae68da332d53f64c1fba5ab0c525f947bce327 to cache now 
[36mINFO[0m[0041] COPY . /usr/src/app                          
[36mINFO[0m[0041] Resolving 231 paths                          
[36mINFO[0m[0041] Taking snapshot of files...                  
[36mINFO[0m[0041] COPY requirements.txt .                      
[36mINFO[0m[0041] Resolving 1 paths                            
[36mINFO[0m[0041] Taking snapshot of files...                  
[36mINFO[0m[0041] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:d772216c323c7387a25fbac8d236e7b7152b6c1929ac3a357b4b1a8f2473a63b to cache now 
[36mINFO[0m[0041] ENV PORT 8080                                
[36mINFO[0m[0041] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0041] EXPOSE 8080                                  
[36mINFO[0m[0041] cmd: EXPOSE                                  
[36mINFO[0m[0041] Adding exposed port: 8080/tcp                
[36mINFO[0m[0041] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0041] ENTRYPOINT ["python"]                        
[36mINFO[0m[0041] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0041] CMD ["app.py"]                               
[36mINFO[0m[0041] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0041] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:bd6eeed4b9b86c79ba4e65f93b5c17826860acd5e393ab4988cb1417772df9af to cache now 

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-16-1/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-16-1/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: gcr.io\/envjenkinsk8udacitycapstone\/**py|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-16-1/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-16-1" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32mablazleon-jxpy-pr-16-pr-build-2pqvr-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Found commit author match for: ********* with email address: adrian.blazquez.leon@alumnos.upm.es
Created environment *********-**py-pr-16
Namespace **-*********-**py-pr-16 created 
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 34.91.102.68.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: gcr.io/envjenkinsk8udacitycapstone/**py
    tag: 0.0.0-SNAPSHOT-PR-16-1

Updating PipelineActivities *********-**py-pr-16-1 which has status Running
Preview application is now available at: http://**py.**-*********-**py-pr-16.34.91.102.68.nip.io
