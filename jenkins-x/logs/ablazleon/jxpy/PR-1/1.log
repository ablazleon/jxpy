
Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-8hbxn[0m
{"level":"info","ts":1593174358.6022959,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593174358.6033332,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-5gl7v[0m
{"level":"info","ts":1593174360.0643978,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1593174360.0748377,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-ablazleon-jxpy-pr-1-pr-build-dm4zm-47b9w[0m
{"level":"info","ts":1593174366.154952,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593174367.5795085,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/*********/**py.git @ master in path /workspace/source"}

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:2c47e069b52a0d15635980797da09f40e2a49971,1:c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d: 2c47e069b52a0d15635980797da09f40e2a49971:
DEBUG: ran git fetch --unshallow origin c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d: 2c47e069b52a0d15635980797da09f40e2a49971: in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 2c47e069b52a0d15635980797da09f40e2a49971
DEBUG: ran git reset --hard 2c47e069b52a0d15635980797da09f40e2a49971 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d
DEBUG: ran git merge c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 2c47e069b52a0d15635980797da09f40e2a49971..HEAD
Merged SHA c8ebed98d4e72dbf6693a66a3fb39cf7c100b29d with commit message 'Update requirements.txt' into base branch master

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-build-python-unittest[0m

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E0626 12:26:12.334574       9 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest python:onbuild     
E0626 12:26:12.751219       9 metadata.go:154] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
E0626 12:26:12.755767       9 metadata.go:166] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
[36mINFO[0m[0003] Retrieving image manifest python:onbuild     
[36mINFO[0m[0004] Built cross stage deps: map[]                
[36mINFO[0m[0004] Retrieving image manifest python:onbuild     
[36mINFO[0m[0005] Retrieving image manifest python:onbuild     
[36mINFO[0m[0006] Executing 3 build triggers                   
[36mINFO[0m[0006] Checking for cached layer gcr.io/envjenkinsk8udacitycapstone/cache:dc2a839bd6d525fd9783a6852939774c55dc14024a49397cd18ef840aae363e1... 
[36mINFO[0m[0007] No cached layer found for cmd COPY requirements.txt /usr/src/app/ 
[36mINFO[0m[0007] cmd: EXPOSE                                  
[36mINFO[0m[0007] Adding exposed port: 8080/tcp                
[36mINFO[0m[0007] Unpacking rootfs as cmd COPY requirements.txt /usr/src/app/ requires it. 
[36mINFO[0m[0031] COPY requirements.txt /usr/src/app/          
[36mINFO[0m[0031] Resolving 1 paths                            
[36mINFO[0m[0031] Taking snapshot of files...                  
[36mINFO[0m[0031] RUN pip install --no-cache-dir -r requirements.txt 
[36mINFO[0m[0031] Taking snapshot of full filesystem...        
[36mINFO[0m[0031] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:dc2a839bd6d525fd9783a6852939774c55dc14024a49397cd18ef840aae363e1 to cache now 
[36mINFO[0m[0031] Resolving 27638 paths                        
[36mINFO[0m[0036] cmd: /bin/sh                                 
[36mINFO[0m[0036] args: [-c pip install --no-cache-dir -r requirements.txt] 
[36mINFO[0m[0036] Running: [/bin/sh -c pip install --no-cache-dir -r requirements.txt] 
Collecting pylint==2.5.3 (from -r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/e8/fb/734960c55474c8f74e6ad4c8588fc44073fb9d69e223269d26a3c2435d16/pylint-2.5.3-py3-none-any.whl (324kB)
Collecting isort<5,>=4.2.5 (from pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/e5/b0/c121fd1fa3419ea9bfd55c7f9c4fedfec5143208d8c7ad3ce3db6c623c21/isort-4.3.21-py2.py3-none-any.whl (42kB)
Collecting astroid<=2.5,>=2.4.0 (from pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/24/a8/5133f51967fb21e46ee50831c3f5dda49e976b7f915408d670b1603d41d6/astroid-2.4.2-py3-none-any.whl (213kB)
Collecting toml>=0.7.1 (from pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/9f/e1/1b40b80f2e1663a6b9f497123c11d7d988c0919abbf3c3f2688e448c5363/toml-0.10.1-py2.py3-none-any.whl
Collecting mccabe<0.7,>=0.6 (from pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting wrapt~=1.11 (from astroid<=2.5,>=2.4.0->pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/82/f7/e43cefbe88c5fd371f4cf0cf5eb3feccd07515af9fd6cf7dbf1d1793a797/wrapt-1.12.1.tar.gz
Collecting typed-ast<1.5,>=1.4.0; implementation_name == "cpython" and python_version < "3.8" (from astroid<=2.5,>=2.4.0->pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/90/ed/5459080d95eb87a02fe860d447197be63b6e2b5e9ff73c2b0a85622994f4/typed_ast-1.4.1-cp36-cp36m-manylinux1_x86_64.whl (737kB)
Collecting lazy-object-proxy==1.4.* (from astroid<=2.5,>=2.4.0->pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/0b/dd/b1e3407e9e6913cf178e506cd0dee818e58694d9a5cd1984e3f6a8b9a10f/lazy_object_proxy-1.4.3-cp36-cp36m-manylinux1_x86_64.whl (55kB)
Collecting six~=1.12 (from astroid<=2.5,>=2.4.0->pylint==2.5.3->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl
Installing collected packages: isort, wrapt, typed-ast, lazy-object-proxy, six, astroid, toml, mccabe, pylint
  Running setup.py install for wrapt: started
    Running setup.py install for wrapt: finished with status 'done'
Successfully installed astroid-2.4.2 isort-4.3.21 lazy-object-proxy-1.4.3 mccabe-0.6.1 pylint-2.5.3 six-1.15.0 toml-0.10.1 typed-ast-1.4.1 wrapt-1.12.1
You are using pip version 10.0.1, however version 20.2b1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
[36mINFO[0m[0044] Taking snapshot of full filesystem...        
[36mINFO[0m[0044] Resolving 28631 paths                        
[36mINFO[0m[0048] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:8bf2abf0a84228eb1cc03999f3ee3ce7361230c16e28eae7af74285f6291b7d4 to cache now 
[36mINFO[0m[0049] COPY . /usr/src/app                          
[36mINFO[0m[0049] Resolving 129 paths                          
[36mINFO[0m[0049] Taking snapshot of files...                  
[36mINFO[0m[0049] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:9748eb8ef5ff4b261567fabfa42f3d3421df8963977e00b9754eef47d4cdeba5 to cache now 
[36mINFO[0m[0049] COPY requirements.txt .                      
[36mINFO[0m[0049] Resolving 1 paths                            
[36mINFO[0m[0049] Taking snapshot of files...                  
[36mINFO[0m[0049] ENV PORT 8080                                
[36mINFO[0m[0049] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0049] EXPOSE 8080                                  
[36mINFO[0m[0049] cmd: EXPOSE                                  
[36mINFO[0m[0049] Adding exposed port: 8080/tcp                
[36mINFO[0m[0049] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0049] ENTRYPOINT ["python"]                        
[36mINFO[0m[0049] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0049] CMD ["app.py"]                               
[36mINFO[0m[0049] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0049] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:82b8e020dea9e67f6d30d45ddc0e9d0acbe9daf180061ba5cd449552e21a7221 to cache now 

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-1-1/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-1-1/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: gcr.io\/envjenkinsk8udacitycapstone\/**py|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-1-1/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-1-1" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32mablazleon-jxpy-pr-1-pr-build-dm4zm-1-tkbw4[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Found commit author match for: ********* with email address: adrian.blazquez.leon@alumnos.upm.es
Created environment *********-**py-pr-1
Namespace **-*********-**py-pr-1 created 
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 34.91.102.68.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: gcr.io/envjenkinsk8udacitycapstone/**py
    tag: 0.0.0-SNAPSHOT-PR-1-1

Updating PipelineActivities *********-**py-pr-1-1 which has status Running
Preview application is now available at: http://**py.**-*********-**py-pr-1.34.91.102.68.nip.io
