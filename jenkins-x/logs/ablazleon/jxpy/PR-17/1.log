
Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-pdvnp[0m
{"level":"info","ts":1593186403.3882022,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593186403.3887644,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-nr7l7[0m
{"level":"info","ts":1593186404.4651399,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1593186404.4664333,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-ablazleon-jxpy-pr-17-pr-build-v89w7-gwnkr[0m
{"level":"info","ts":1593186411.645072,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1593186413.0068011,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/*********/**py.git @ master in path /workspace/source"}

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:fcdc6678d3cf48f2fa497bad4c99c9903af67874,17:d595c5a2a39aa49685fa4f5ad12694b1afee4017
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git fetch origin --unshallow d595c5a2a39aa49685fa4f5ad12694b1afee4017: fcdc6678d3cf48f2fa497bad4c99c9903af67874:
DEBUG: ran git fetch --unshallow origin d595c5a2a39aa49685fa4f5ad12694b1afee4017: fcdc6678d3cf48f2fa497bad4c99c9903af67874: in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard fcdc6678d3cf48f2fa497bad4c99c9903af67874
DEBUG: ran git reset --hard fcdc6678d3cf48f2fa497bad4c99c9903af67874 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge d595c5a2a39aa49685fa4f5ad12694b1afee4017
DEBUG: ran git merge d595c5a2a39aa49685fa4f5ad12694b1afee4017 in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e fcdc6678d3cf48f2fa497bad4c99c9903af67874..HEAD
Merged SHA fe2edcc3ff10ddd35184c44b037302fe9fd46959 with commit message 'Merge commit 'd595c5a2a39aa49685fa4f5ad12694b1afee4017'' into base branch master
Merged SHA d595c5a2a39aa49685fa4f5ad12694b1afee4017 with commit message 'Update jenkins-x.yml' into base branch master

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-python-unittest[0m

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E0626 15:46:56.908964      10 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest python:onbuild     
E0626 15:46:57.339731      10 metadata.go:154] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
E0626 15:46:57.342484      10 metadata.go:166] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
[36mINFO[0m[0002] Retrieving image manifest python:onbuild     
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest python:onbuild     
[36mINFO[0m[0004] Retrieving image manifest python:onbuild     
[36mINFO[0m[0005] Executing 3 build triggers                   
[36mINFO[0m[0005] Checking for cached layer gcr.io/envjenkinsk8udacitycapstone/cache:df2682f9112b9b728a81d17e60e0833277ddedd6257b137b6af90148bb5b44b3... 
[36mINFO[0m[0006] No cached layer found for cmd COPY requirements.txt /usr/src/app/ 
[36mINFO[0m[0006] cmd: EXPOSE                                  
[36mINFO[0m[0006] Adding exposed port: 8080/tcp                
[36mINFO[0m[0006] Unpacking rootfs as cmd COPY requirements.txt /usr/src/app/ requires it. 
[36mINFO[0m[0026] COPY requirements.txt /usr/src/app/          
[36mINFO[0m[0026] Resolving 1 paths                            
[36mINFO[0m[0026] Taking snapshot of files...                  
[36mINFO[0m[0026] RUN pip install --no-cache-dir -r requirements.txt 
[36mINFO[0m[0026] Taking snapshot of full filesystem...        
[36mINFO[0m[0026] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:df2682f9112b9b728a81d17e60e0833277ddedd6257b137b6af90148bb5b44b3 to cache now 
[36mINFO[0m[0028] Resolving 27638 paths                        
[36mINFO[0m[0032] cmd: /bin/sh                                 
[36mINFO[0m[0032] args: [-c pip install --no-cache-dir -r requirements.txt] 
[36mINFO[0m[0032] Running: [/bin/sh -c pip install --no-cache-dir -r requirements.txt] 
Collecting pylint==1.9.5 (from -r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/36/3b/fa4025a424adafd85c6195001b1c130ecb8d8b30784a1c4cb68e7b5e5ae7/pylint-1.9.5-py2.py3-none-any.whl (696kB)
Collecting isort>=4.2.5 (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/e5/b0/c121fd1fa3419ea9bfd55c7f9c4fedfec5143208d8c7ad3ce3db6c623c21/isort-4.3.21-py2.py3-none-any.whl (42kB)
Collecting astroid<2.0,>=1.6 (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/8b/29/0f7ec6fbf28a158886b7de49aee3a77a8a47a7e24c60e9fd6ec98ee2ec02/astroid-1.6.6-py2.py3-none-any.whl (305kB)
Collecting mccabe (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting six (from pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl
Collecting lazy-object-proxy (from astroid<2.0,>=1.6->pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/cd/2f/68176f910e32eec13d2db184442fe2242d067ce5abe4c095ff3a95d34907/lazy_object_proxy-1.5.0-cp36-cp36m-manylinux1_x86_64.whl (56kB)
Collecting wrapt (from astroid<2.0,>=1.6->pylint==1.9.5->-r requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/82/f7/e43cefbe88c5fd371f4cf0cf5eb3feccd07515af9fd6cf7dbf1d1793a797/wrapt-1.12.1.tar.gz
Installing collected packages: isort, lazy-object-proxy, wrapt, six, astroid, mccabe, pylint
  Running setup.py install for wrapt: started
    Running setup.py install for wrapt: finished with status 'done'
Successfully installed astroid-1.6.6 isort-4.3.21 lazy-object-proxy-1.5.0 mccabe-0.6.1 pylint-1.9.5 six-1.15.0 wrapt-1.12.1
You are using pip version 10.0.1, however version 20.2b1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
[36mINFO[0m[0038] Taking snapshot of full filesystem...        
[36mINFO[0m[0039] Resolving 30246 paths                        
[36mINFO[0m[0043] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:889a9946ea19ddc21c66b2d2baae68da332d53f64c1fba5ab0c525f947bce327 to cache now 
[36mINFO[0m[0043] COPY . /usr/src/app                          
[36mINFO[0m[0043] Resolving 233 paths                          
[36mINFO[0m[0043] Taking snapshot of files...                  
[36mINFO[0m[0043] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:acc29b406428d108c218e7a8e4c027412c577a4c554ce8cb6f898246d89c465b to cache now 
[36mINFO[0m[0043] COPY requirements.txt .                      
[36mINFO[0m[0043] Resolving 1 paths                            
[36mINFO[0m[0043] Taking snapshot of files...                  
[36mINFO[0m[0043] ENV PORT 8080                                
[36mINFO[0m[0043] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0043] EXPOSE 8080                                  
[36mINFO[0m[0043] cmd: EXPOSE                                  
[36mINFO[0m[0043] Adding exposed port: 8080/tcp                
[36mINFO[0m[0043] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0043] ENTRYPOINT ["python"]                        
[36mINFO[0m[0043] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0043] CMD ["app.py"]                               
[36mINFO[0m[0043] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0043] Pushing layer gcr.io/envjenkinsk8udacitycapstone/cache:15e451f1fa8d83bc848e9e28527c03b7a04574b6a15d001018788b00501c75da to cache now 

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-17-1/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-17-1/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: gcr.io\/envjenkinsk8udacitycapstone\/**py|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-17-1/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-17-1" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32mablazleon-jxpy-pr-17-pr-build-v89w7-1[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Found commit author match for: ********* with email address: adrian.blazquez.leon@alumnos.upm.es
Created environment *********-**py-pr-17
Namespace **-*********-**py-pr-17 created 
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: 34.91.102.68.nip.io
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: gcr.io/envjenkinsk8udacitycapstone/**py
    tag: 0.0.0-SNAPSHOT-PR-17-1

Updating PipelineActivities *********-**py-pr-17-1 which has status Running
Preview application is now available at: http://**py.**-*********-**py-pr-17.34.91.102.68.nip.io
